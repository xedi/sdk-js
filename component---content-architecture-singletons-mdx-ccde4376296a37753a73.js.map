{"version":3,"sources":["webpack:///./content/architecture/singletons.mdx","webpack:///./node_modules/@primer/gatsby-theme-doctocat/src/components/table-of-contents.js","webpack:///./node_modules/@primer/gatsby-theme-doctocat/src/components/layout.js"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","props","_objectWithoutPropertiesLoose","Object","_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__","assign","mdxType","parentName","className","_primer_gatsby_theme_doctocat__WEBPACK_IMPORTED_MODULE_8__","_primer_components__WEBPACK_IMPORTED_MODULE_9__","scheme","_primer_styled_octicons__WEBPACK_IMPORTED_MODULE_10__","mr","_primer_gatsby_theme_doctocat_src_components_inline_code__WEBPACK_IMPORTED_MODULE_11__","isMDXComponent","listStyle","TableOfContents","items","depth","react_default","a","createElement","_StyledBox","as","m","p","map","item","index_esm","key","url","pl","display","py","href","color","title","defaultProps","zIndex","alignItems","alignSelf","gridArea","overflow","Layout","children","pageContext","_pageContext$frontmat","frontmatter","description","status","source","_pageContext$frontmat2","additionalContributors","flexDirection","minHeight","head","header","_StyledFlex","flex","sidebar","_StyledGrid","id","maxWidth","gridTemplateColumns","gridTemplateAreas","gridColumnGap","gridRowGap","mx","_StyledBorderBox","border","borderBottom","borderRadius","pb","tableOfContents","_StyledPosition","position","top","HEADER_HEIGHT","maxHeight","fontWeight","mb","table_of_contents","layout_StyledBox","status_label","source_link","_ref2","open","Fragment","dist_index_esm","pt","page_footer","editUrl","contributors","concat","login"],"mappings":"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","file":"component---content-architecture-singletons-mdx-ccde4376296a37753a73.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/Users/smudge/Code/Xedi/libraries/sdk/js/docs/node_modules/@primer/gatsby-theme-doctocat/src/components/layout.js\";\nimport { Caption } from '@primer/gatsby-theme-doctocat';\nimport { Flash, Text } from '@primer/components';\nimport { InfoIcon } from '@primer/styled-octicons';\nimport InlineCode from '@primer/gatsby-theme-doctocat/src/components/inline-code';\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <p>{`To maintain configuration and state, whilst making the API easy to use, singletons have been employed. This section will go demonstrate the usage of this pattern within the SDK and provide guidance on its use for development.`}</p>\n    <h2>{`Registration`}</h2>\n    <p>{`To use register a singleton for use, first it needs a factory function binding to the `}<inlineCode parentName=\"p\">{`Container`}</inlineCode>{` instance.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-typescript\"\n      }}>{`this.singleton('myclass', function (app: ContainerInterface, config: Config) {\n    return new MyClass();\n});\n`}</code></pre>\n    <Caption mdxType=\"Caption\">Binding a factory function to the abstract key 'myclass'</Caption>\n    <p>{`The factory function takes two parameters, the `}<inlineCode parentName=\"p\">{`Container`}</inlineCode>{` instance and an instance of the `}<inlineCode parentName=\"p\">{`Config`}</inlineCode>{` bag. What is returned is known as the \"Concrete\" instance.`}</p>\n    <p>{`The \"abstract\" is the key that the binding will be accessible by. This should be a string that is unique to this factory.`}</p>\n    <Flash scheme=\"yellow\" mdxType=\"Flash\">\n    <InfoIcon mr={1} mdxType=\"InfoIcon\" />Binding an abstract with a non-unique name will overwrite the previous factory\n    </Flash>\n    <h2>{`Resolution`}</h2>\n    <p>{`Retrieving an instance from the `}<inlineCode parentName=\"p\">{`Container`}</inlineCode>{` is simple.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-typescript\"\n      }}>{`this.resolve<MyClass>('myclass');\n`}</code></pre>\n    <Caption mdxType=\"Caption\">Retrieving an instance of MyClass from the Container</Caption>\n    <p>{`When a Concrete instance is returned, it is stored within the `}<inlineCode parentName=\"p\">{`Container`}</inlineCode>{` against the abstract. The next time the `}<inlineCode parentName=\"p\">{`resolve`}</inlineCode>{` method is run, it will retrieve the concrete instance from the store.`}</p>\n    <h2>{`Resetting`}</h2>\n    <p>{`It is sometimes necessary to refresh a concrete instance.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-typescript\"\n      }}>{`this.resetInstance('myclass');\n`}</code></pre>\n    <Caption mdxType=\"Caption\">Resetting 'myclass'</Caption>\n    <p>{`Invoking `}<InlineCode mdxType=\"InlineCode\">{`resetInstance`}</InlineCode>{` will clear the concrete instance from the store, and then invoke the associated factory.`}</p>\n    <Flash mdxType=\"Flash\">\n    <InfoIcon mr={1} mdxType=\"InfoIcon\" /><Text mdxType=\"Text\">Don't confuse <InlineCode mdxType=\"InlineCode\">resolveInstance</InlineCode> and <InlineCode mdxType=\"InlineCode\">resolve</InlineCode>. <InlineCode mdxType=\"InlineCode\">resolveInstance</InlineCode> is a state method which can be used to resolve the active container for static methods.</Text>\n      <pre><code parentName=\"pre\" {...{\n          \"className\": \"language-typescript\"\n        }}>{`static get MyClass(): MyClass {\n    return this.resolveInstance()\n        .resolve('myclass');\n}\n`}</code></pre>\n      <Caption mdxType=\"Caption\">Resolving 'myclass' statically</Caption>\n    </Flash>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","import {Box, Link} from '@primer/components'\nimport React from 'react'\n\nfunction TableOfContents({items, depth}) {\n  return (\n    <Box as=\"ul\" m={0} p={0} css={{listStyle: 'none'}}>\n      {items.map(item => (\n        <Box as=\"li\" key={item.url} pl={depth > 0 ? 3 : 0}>\n          <Link display=\"inline-block\" py={1} href={item.url} color=\"gray.6\">\n            {item.title}\n          </Link>\n          {item.items ? (\n            <TableOfContents items={item.items} depth={depth + 1} />\n          ) : null}\n        </Box>\n      ))}\n    </Box>\n  )\n}\n\nTableOfContents.defaultProps = {\n  depth: 0,\n}\n\nexport default TableOfContents\n","import {\n  BorderBox,\n  Box,\n  Details,\n  Flex,\n  Grid,\n  Heading,\n  Position,\n  Text,\n} from '@primer/components'\nimport {ChevronDownIcon, ChevronRightIcon} from '@primer/styled-octicons'\nimport React from 'react'\nimport Head from './head'\nimport Header, {HEADER_HEIGHT} from './header'\nimport PageFooter from './page-footer'\nimport Sidebar from './sidebar'\nimport SourceLink from './source-link'\nimport StatusLabel from './status-label'\nimport TableOfContents from './table-of-contents'\n\nfunction Layout({children, pageContext}) {\n  const {\n    title,\n    description,\n    status,\n    source,\n    additionalContributors = [],\n  } = pageContext.frontmatter\n\n  return (\n    <Flex flexDirection=\"column\" minHeight=\"100vh\">\n      <Head title={title} description={description} />\n      <Header />\n      <Flex flex=\"1 1 auto\" flexDirection=\"row\" css={{zIndex: 0}}>\n        <Box display={['none', null, null, 'block']}>\n          <Sidebar />\n        </Box>\n        <Grid\n          id=\"skip-nav\"\n          maxWidth=\"100%\"\n          gridTemplateColumns={['100%', null, 'minmax(0, 65ch) 220px']}\n          gridTemplateAreas={[\n            '\"heading\" \"content\"',\n            null,\n            '\"heading .\" \"content table-of-contents\"',\n          ]}\n          gridColumnGap={[null, null, 6, 7]}\n          gridRowGap={3}\n          mx=\"auto\"\n          p={[5, 6, null, 7]}\n          css={{alignItems: 'start', alignSelf: 'start'}}\n        >\n          <BorderBox\n            css={{gridArea: 'heading'}}\n            border={0}\n            borderBottom={1}\n            borderRadius={0}\n            pb={2}\n          >\n            <Heading>{title}</Heading>\n          </BorderBox>\n          {pageContext.tableOfContents.items ? (\n            <Position\n              display={['none', null, 'block']}\n              css={{gridArea: 'table-of-contents', overflow: 'auto'}}\n              position=\"sticky\"\n              top={HEADER_HEIGHT + 24}\n              maxHeight={`calc(100vh - ${HEADER_HEIGHT}px - 24px)`}\n            >\n              <Text display=\"inline-block\" fontWeight=\"bold\" mb={1}>\n                Table of contents\n              </Text>\n              <TableOfContents items={pageContext.tableOfContents.items} />\n            </Position>\n          ) : null}\n          <Box css={{gridArea: 'content'}}>\n            {status || source ? (\n              <Flex mb={3} alignItems=\"center\">\n                {status ? <StatusLabel status={status} /> : null}\n                <Box mx=\"auto\" />\n                {source ? <SourceLink href={source} /> : null}\n              </Flex>\n            ) : null}\n            {pageContext.tableOfContents.items ? (\n              <Box display={['block', null, 'none']} mb={3}>\n                <Details>\n                  {({open}) => (\n                    <>\n                      <Text as=\"summary\" fontWeight=\"bold\">\n                        {open ? (\n                          <ChevronDownIcon mr={2} />\n                        ) : (\n                          <ChevronRightIcon mr={2} />\n                        )}\n                        Table of contents\n                      </Text>\n                      <Box pt={1}>\n                        <TableOfContents\n                          items={pageContext.tableOfContents.items}\n                        />\n                      </Box>\n                    </>\n                  )}\n                </Details>\n              </Box>\n            ) : null}\n            {children}\n            <PageFooter\n              editUrl={pageContext.editUrl}\n              contributors={pageContext.contributors.concat(\n                additionalContributors.map((login) => ({login})),\n              )}\n            />\n          </Box>\n        </Grid>\n      </Flex>\n    </Flex>\n  )\n}\n\nexport default Layout\n"],"sourceRoot":""}